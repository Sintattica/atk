+ : new feature
- : deprecated feature
* : bugfix or changed code
Bug numbers are references to bugs in http://www.achievo.org/bugzilla
[names] are references to people in the AUTHORS file.
Please do not exceed 80 characters per line.
Latest changes go on top, different types of changes may be mixed.

Changes in ATK 6.3
------------------
* Fixed cleaning/filtering numeric values in the number attribute which
  caused critical database errors when searching for illegal chars. [Martin]
* Decomposed the partial_add_process to allow customization in the savehandler
  url. [Martin]
* Added MySQL config for setting the collate that is used for
  creating tables true the atkddl. [Sandy]
+ Added function for quoting of table and fieldnames. [Sandy]
+ Added Create and Drop index functions to the atkddl. [Sandy]
- Removed MySQL41 driver, use MySQLi instead. [Sandy]
* Fixed locking problem in MySQL Driver. [Sandy]
* atkColorPickerAttribute popup is now 1000 pixels wide in stead of 600. It
  would not show the "select" button because the popup was too small. [Lineke]
* The atkDatagrid now also adds filters that are set in the node. When setting
  a filter in for example the adminPage function it would not be set again
  when the datagrid was refreshed (navigating through the records or changing
  the "show" box). This would cause all records to be shown again. [Lineke]
* Added classname to atkfckattribute and made a change to
  class.atkunloadhelper.js to make sure that changes in a fckfield
  will be picked up and display a warning message when one leaves the page
  [Ruud]
* The 'cancel' button on the extended search screen now works. [Tjeerd]
+ Added function getValues to class.atkdb.inc. With this function it's
  possible to retrieve all values in a single column of a resultset. [Martijn]
+ Decomposed atkWriteLog into 2 functions atkWriteLog and atkWriteToFile,
  so the latter becomes an extra tool in atktools.inc. [Patrick]
+ Errormails are now also send before a redirect header if debug level < 2.
  [Tjeerd]
+ Added function showDirs(boolean b) to class.atkfileeditor.inc. Default
  configuration is true. [Patrick]
- Mark datatypes/ classes deprecated.
* Add dt suffix datatype classes: datatypes/atkstring -> datatypes/atkstringdt etc.
  [Marc]
* Removed function MakeFCKEditable from javascript/dhtml_tabs.js.php. It
  caused FCK keylistener to be registered twice on page load, and the purpose
  of the function seems to be obsolete due to the newer FCK version.
  Tested in FF3 and IE7. [Patrick]
* Make use of newer atkTriggerError in emailAttribute for triggering attribute
  errors so labels are filled correctly. [Tjeerd]
+ Added atkGetCharset() function to atkTools, it first checks the config
  default_charset and has a fallback to the charset in the language
  file. [Sandy]
* Changed all atktext('charset') calls into atkGetCharset() [Sandy]
* Fixed displaying of special chars in atkmanytoonerelation
  dropdowns [Sandy,Jeroen]
+ Added atkString class in the utils which is always loaded. It contains string
  functions that will use the mbstring extension if it's detected. If you have the
  extension and don't want to use it, you can use the config use_mbstring to turn
  it off. atkString contains at the moment functions for: strlen, substr, charAt
  strpos, strtolower, strtoupper. [Sandy]
* atkMailer class now uses atk's default charset as it's own default charset
  [Patrick]
+ Added querycounter to atkDebugger. [Tjeerd]
* ATK now tries to create the compiled templates directory when it did not
  already exist. [Marc]
* Fixed issue where in some rare occasions the selection was remembered for a
  MRA action. [Tjeerd]
+ Added initialvalue support to atkshuttlerelation. [Melvin]
* It showed a litle bit of white just below the menu logo. [Martin]
* Fixed extended search in one2many relations. [Martin]
* Do not force template compilation in the frontcontroller. [Tjeerd]
* Fixed column length support for the decimal, double and float types in the
  mysql driver. [Mvdvelden]
* Fixed the missing getDbStatus method in atkDb. [Mvdvelden]
* Fixed bug which caused the first field always to be selected after
  depended attribute refresh. [Peter]
* Fixed atkManyToManyRelation clean-up of old selected records. [Peter]
+ Added the possibility to add regex exclude patterns to atkDirectoryTraverser
  and used this feature in atkThemeCompiler. [Patrick]
* Changed the tbsooo interface to be more compatible with odt file generation
  when using the zip extension. [mvdvelden]
+ Added ability to set a different template for the tooltip for each record
  in an atkExtendableShuttleRelation. [Dennis]
* Improved support for more complex selectors in atkDataNode::getCriteria()
  [Peter, Dennis]
+ When using the configuration option "mail_redirect" in atkMailer, prefix
  the mail body to show the original recipients [Patrick]
* In atkQuery, the join condition in addJoin is moved from the where clause
  to the join clause where it belongs. [Patrick]
* Fixed forgetCriteria() and saveCriteria() from abstractsearchhandler,
  when we use transact sql db. [Yury]
* Attribute values from the request will be used by initial_values. [Peter]
+ Added atkOneToManyRelation::setUseRefKeyForFilter which can be used
  to disable the usage of the ref key as filter for the grid. This allows
  you to use a atkOneToManyRelations inside a node which has no direct
  link with the parent node (mainly for displaying stuff). [Peter]
* Fixed brackets in the count query, they are now the same as the select
  query uses. [Sandy]
* atkZip::extract no longer throws warnings when $entries is omitted when
  using 'internal' mode. This is a PHP bug work around. [mvdvelden]
* The atkNode::editArray may now return an "extra" column for fields with
  arbitrary data that needs to be passed to the edit template. [Peter]
* Empty list option can now be configured on a per node field basis. [Peter]
* Fixed searching in fields with autocompletion in  m2o relations. [Martin]
+ Added atkManyToManyListRelation::setAutoCalculateRows which makes it
  possible to turn off the default behavior of calculating the displayed
  number of rows in the list based on the available selection size. [Peter]
* Show option title in tooltip for atkExtendableShuttleRelation. [Peter]
+ Implemented display functionality for atkRadioDetailsAttribute. [Peter]
* atkManytoManySelectRelation now doesn't load the complete record anymore
  when displaying the current value. [Peter]
* Generated code for a meta node is now only displayed when debug level
  is set to 3 (and caching is turned off). [Peter]
+ atkConsoleController can now be started with --list to get a list of
  controller actions or with --debug followed by the action name to
  output log information directly on the command line. [Peter]
+ atkConsoleController now accepts the path name to a console controller
  as valid controller class (useful when using auto-completion on the
  command line). [Peter]
* Improved atkConsoleController log file output, and now logging to
  a single file per controller per day (no distinction between types). [Peter]
+ Added 'save criteria' functionality to the atkSearchHandler. This
  functionality only works when the table atk_searchcriteria is present in
  your database. Note: When you are using the atkSmartSearchHandler, please
  rename your atk_smartsearchcriteria table to atk_searchcriteria and
  add `handlertype` VARCHAR(100) NOT NULL to your new table and fill this
  new field with the value 'atksmartsearchhandler'.[Martijn]
+ Added configuration option 'mail_redirect' to defaultconfig.inc.php. See
  defaultconfig.inc.php for more details. [patrick]
+ Added setter and getter for sessionStatus in atkDialog. [Arjen]
+ Added concat function in atkDb. [Sandy]
+ Added method for setting the destination node of Auto links in the
  atkManyToOneRelation. [Sandy]
+ Added setGridExcludes and getGridExcludes functions to atkonetomanyrelation.
  Using these functions it is possible to set the fields that should be
  excluded in the datagrid of the relation even if these fields don't have the
  AF_HIDE_LIST flag. The refkeys are excluded by default. Using the
  setGridExcludes function will overrule the default. [Lineke]
+ Added javascript onchange handler support to shuttle relation. [Guido]
* Fixed searching in atkManyToOneRelation in extended mode. [Martijn]
* Warn user for calls to atkNode::primaryKeyField if there is no primary key
  defined. [Max, Peter]
* Set session status for (onetomany) add (-or-copy) dialog to session_partial.
  [Arjen]
* Disabled multi-record-actions in select handler. [Peter]
* Fixed strange bug with sessions where atkSecurityManager would set
  a session with a different cookiepath and repeatedly logging in
  and logging out would cause the user to lose the ability to
  log in at all. [Boy, Harrie]
* Fixed setting the supported languages by using the config
  supported_languages. [Arjen, Dennis]
* Removed Czechoslovakia (CS) from the country definition list in
  atkCountryAttribute. [mvdvelden]
* Implemented fallback for atkConfig::get to skel/configs/.
  If a section corresponds to a module, configs from module/skel/configs
  will be used as fallbacks. [Boy, Tjeerd]
* ProfileAttribute: don't use text() function of attribute, because of auto
  module detection (e.g. actions won't translate) [Jeroen]
* Fixed atkAggregatedColumn attribute and added extra searchcondition
  when searchmode is substring. [Sandy]
* atkManyToOne relation now also searches with concat of the descriptor
  template. [Sandy]
* Changed atkMultiselectHandler to use the atkdatagrid in stead of the
  atkrecordlist functionality. [Lineke]
* atkCountryAttribute now also takes charset into account for dutch
  translations. [Lineke]
* Target url for the select link of an atkManyToOnerelation is now encoded
  so it also works for proxy servers the decode the url. [Sandy]
* Added dropdown menu to the supported menu classes in the atkmenuclass.
  [Lineke]
* atkManyToOneRelation now uses the getOrderByStatement function of the
  columnconfig class to determine the order by clause in the selectDb
  functions. [Lineke]
* Export now also takes filters from the node into account. [Lineke]
* Atkdatagrid listarray function also returns the name of the datagrid,
  fixes problem with inline editing in the datagrid. [Lineke]
* Use the getOrderByStatement function of the columnconfig class in the
  selectDb call in the view action. [Lineke]
+ Added support for multiple error handlers and added a Zend Platform
  error handler. [MarkW]
+ Added support for a custom function to determine the descriptor def in the
  getConcatFilter function in the atkmanytoonerelation. This can be used if the
  destination node overrides the descriptor function. [Lineke]
* Removed check for mode copy in the addToQuery function in the atknode. This
  can cause problems when copying a record with a onetomanyrelation.
  [Lineke]
* Changes in atkmodule to correctly determine the destination for a
  onetomanyrelation in an overloader of a metanode. [Peter,Lineke]
* Bugfix in atkmanytoonerelation autocomplete. Unescape the value of the
  innerHTML of the selection, because characters like & would be displayed
  as &amp; in the textfield. [Peter,Lineke]
* Bugfix in updatehandler when using the NF_TRACK_CHANGES flag. The select
  query to select the original record should not use the postvars. [Lineke]
* Changed atkExportHandler to use atkUi::renderAction so it uses action.tpl.
  [Guido]
* Fixed sorting in atkcolumnconfig, atkattribute and atkmanytoonerelation to
  take direction into account and sorting of listcolumns in the
  manytoonerelation. [Peter, Lineke]
* Fixed searching on listcolumns in atkmanytoonerelation.[Peter, Lineke]
* Changed htmlentities into atk_htmlentities. [Sandy]
* Fixed encoding bug in atkopendocumentwriter (bug #1231) [Mykhaylo,Sandy]

Changes in prior versions
-------------------------
Changes in older ATK versions can be found at:
http://websvn.ibuildings.nl/wsvn/atk/atk/tags/release_6_2_0/doc/CHANGES
